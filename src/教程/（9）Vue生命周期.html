<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Vue生命周期</title>
</head>
<body>
    <div id="demo">
        <button @click="destroyVM">销毁VM</button>

        <p v-show="isShow">you still have lots more to work on</p>
    </div>

    <script type="text/javascript" src="./vue.js"></script>
    <script type="text/javascript">
        const vm = new Vue({
          el: '#demo',
          data: {
            isShow: true
          },
          methods: {
            // 销毁VM
            destroyVM() {
              this.$destroy();
            }
          },
          /**
           * 初始化显示之后立即调用
           */
          mounted() {
            // 设置定时器
            this.intervalID = setInterval(() => {
                console.log('--- setInterval ---');
                this.isShow = !this.isShow;
            }, 1000)
          },
          /**
           * vm销毁前调用
           */
          beforeDestroy() {
            // 清除定时器
            clearInterval(this.intervalID);
          }
        })

    </script>
</body>
</html>
